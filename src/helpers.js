import e from"@babel/runtime/helpers/esm/defineProperty";function t(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function r(r){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?t(Object(o),!0).forEach((function(t){e(r,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):t(Object(o)).forEach((function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))}))}return r}const n=e=>{const t={};const n={};const o=(e,l,c,i,s,a=e.default,u=(()=>{var t;return null==(t=e.examples)?void 0:t[0]})())=>{if("const"in e)return;const m=o=>{t[l]=r({name:l,description:`**${e.title}${e.description?":":""}**${e.description?`\n\n${e.description}`:""}`,type:{required:s,summary:e.type},table:{category:null!=c?c:"general",defaultValue:{summary:a},subcategory:i}},o),n[l]=null!=u?u:a};switch(e.type){case"string":m({options:e.enum&&e.enum.length>0?e.enum:void 0,control:e.enum&&e.enum.length>0?{type:e.enum.length>5?"select":"inline-radio"}:e.format?"color"===e.format?"color":"date"===e.format?"date":"text":"text"});break;case"boolean":m({control:"boolean"});break;case"integer":case"number":m({control:{type:"number"==typeof e.minimum&&"number"==typeof e.maximum?"range":"number",min:e.minimum,max:e.maximum}});break;case"object":if(e.properties){const t=null!=c?c:l;Object.entries(e.properties).forEach((([r,n])=>{var c,s,m,p,b;const y=t&&(i||("object"===n.type||"array"===n.type)&&`${l}.${r}`);o(n,l?`${l}.${r}`:r,t,y,null==(c=e.required)?void 0:c.includes(r),null!=(s=null==a?void 0:a[r])?s:null==(m=e.default)?void 0:m[r],null!=(p=null==u?void 0:u[r])?p:null==(b=e.examples)?void 0:b[0][r])}))}else m({control:"object"});break;case"array":if(e.items&&e.items.type){var p,b,y;const t=null!=c?c:l;const r=null!=(p=null!=u?u:null==(b=e.examples)?void 0:b[0])?p:a;const n=null!=(y=null==r?void 0:r.length)?y:3;new Array(n).fill().forEach(((n,c)=>{var s,u;const m=t&&(i||("object"===e.items.type||"array"===e.items.type)&&`${l}.${c}`);o(e.items,l?`${l}.${c}`:c,t,m,void 0,null!=(s=null==a?void 0:a[c])?s:null==(u=e.default)?void 0:u[c],null==r?void 0:r[c])}))}else m({control:"object"})}};return o(e),{argTypes:t,args:n}};const o=e=>{const t={};for(const[r,n]of Object.entries(e))r.split(".").reduce(((e,t,r,o)=>{if(null==e[t]){const l=o[r+1];e[t]=null!=l?Number.isNaN(+l)?{}:[]:n}return e[t]}),t);return t};const l=(e,t)=>e(r(r({},t),{},{args:o(t.args)}));const c=e=>Object.entries(e).reduce(((e,[t,r])=>((e=>"[object Object]"===Object.prototype.toString.call(e))(r)||Array.isArray(r)?Object.entries(c(r)).forEach((([r,n])=>{e[`${t}.${r}`]=n})):e[t]=r,e)),{});export{n as getArgsShared,c as pack,o as unpack,l as unpackDecorator};
